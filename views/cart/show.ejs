<% layout('/layouts/boilerplate') -%>
<div class="container mt-5">
  <h1>Your Cart</h1>
  <% if (!cart || cart.items.length === 0) { %>
    <p>Your cart is empty!</p>
  <% } else { %>
    <div class="list-group mb-4">
      <% for (let item of cart.items) { %>
        <div class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <h5><%= item.product.title %></h5>
            <p>â‚¹<%= item.product.price %> x <%= item.quantity %></p>
          </div>
          <img src="<%= item.product.image %>" width="100" class="rounded">
          <form action="/cart/remove/<%= item.product._id %>" method="POST" class="ms-3">
            <button class="btn btn-sm btn-danger">Remove</button>
          </form>
        </div>
      <% } %>
    </div>
    <form action="/cart/checkout" method="post">
      <button class="btn btn-success">Proceed to Checkout</button>
    </form>
  <% } %>
</div>
